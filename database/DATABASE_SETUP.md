# Weddinguz ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–í–µ—Ä—Å–∏—è:** 2.1.0 | **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-07

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#–æ–±–∑–æ—Ä-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
2. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
3. [–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (ER-–¥–∏–∞–≥—Ä–∞–º–º–∞)](#—Å—Ö–µ–º–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
4. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
5. [–ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#–ø–æ—à–∞–≥–æ–≤–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
6. [–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü](#–æ–ø–∏—Å–∞–Ω–∏–µ-—Ç–∞–±–ª–∏—Ü)
7. [–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (Enums)](#–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è)
8. [–§—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã](#—Ñ—É–Ω–∫—Ü–∏–∏-–∏-—Ç—Ä–∏–≥–≥–µ—Ä—ã)
9. [–ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (RLS)](#–ø–æ–ª–∏—Ç–∏–∫–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
10. [–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Lovable Cloud](#–º–∏–≥—Ä–∞—Ü–∏—è-–¥–∞–Ω–Ω—ã—Ö)
11. [–ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –¥—Ä—É–≥–∏–º –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º](#–∞–¥–∞–ø—Ç–∞—Ü–∏—è)
12. [FAQ](#faq)

---

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FRONTEND (React/Vite)                ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Dashboard ‚îÇ  ‚îÇ Planner  ‚îÇ  ‚îÇMarketplace‚îÇ  ‚îÇ  Auth  ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                        ‚îÇ                                ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                      ‚îÇ
‚îÇ              ‚îÇ  Supabase Client  ‚îÇ                      ‚îÇ
‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  BACKEND (PostgreSQL)                    ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ               36 —Ç–∞–±–ª–∏—Ü + 1 View                ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ                                                 ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  Core   ‚îÇ  ‚îÇ  Events  ‚îÇ  ‚îÇ   Payments     ‚îÇ  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îÇprofiles ‚îÇ  ‚îÇ  guests  ‚îÇ  ‚îÇ   bookings     ‚îÇ  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îÇplans    ‚îÇ  ‚îÇ  events  ‚îÇ  ‚îÇ   escrow       ‚îÇ  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îÇvendors  ‚îÇ  ‚îÇ  rsvp    ‚îÇ  ‚îÇ   qr_sessions  ‚îÇ  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ                                                 ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Seating ‚îÇ  ‚îÇ  Gifts   ‚îÇ  ‚îÇ   Comms        ‚îÇ  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ charts  ‚îÇ  ‚îÇ registry ‚îÇ  ‚îÇ   telegram     ‚îÇ  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ tables  ‚îÇ  ‚îÇ contrib  ‚îÇ  ‚îÇ   voice_rsvp   ‚îÇ  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ 7 Functions‚îÇ  ‚îÇ 30 Triggers‚îÇ  ‚îÇ  60+ RLS Policies‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ          15 Edge Functions (Deno)                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  wedding-assistant, process-payment, escrow,     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  qr-payment, voice-rsvp, telegram, email, etc.  ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è |
|-----------|--------|
| PostgreSQL | 15+ |
| –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ | 500 MB+ |
| –û–ó–£ | 1 GB+ |

### –†–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL
```sql
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –¢–∏–ø | –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω |
|-----------|-----|:---------------:|
| **Supabase** | BaaS (PostgreSQL + Auth + Storage) | ‚úÖ |
| **Neon** | Serverless PostgreSQL | ‚úÖ |
| **Railway** | Managed PostgreSQL | ‚úÖ |
| **DigitalOcean** | Managed DB | ‚ùå |
| **AWS RDS** | Managed DB | ‚ùå |
| **Self-hosted** | Docker/VM | ‚úÖ |

---

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ (–æ—Å–Ω–æ–≤–Ω—ã–µ —Å–≤—è–∑–∏)

```mermaid
erDiagram
    profiles ||--o{ wedding_plans : "couple_user_id"
    profiles ||--o{ vendor_profiles : "user_id"
    profiles ||--o{ user_roles : "user_id"
    
    wedding_plans ||--o{ guests : "wedding_plan_id"
    wedding_plans ||--o{ wedding_events : "wedding_plan_id"
    wedding_plans ||--o{ bookings : "wedding_plan_id"
    wedding_plans ||--o{ budget_items : "wedding_plan_id"
    wedding_plans ||--o{ seating_charts : "wedding_plan_id"
    wedding_plans ||--o{ gift_registry_items : "wedding_plan_id"
    wedding_plans ||--o{ wedding_invitations : "wedding_plan_id"
    wedding_plans ||--o{ wedding_visualizations : "wedding_plan_id"
    wedding_plans ||--o{ wedding_websites : "wedding_plan_id"
    wedding_plans ||--o| communication_settings : "wedding_plan_id"
    wedding_plans ||--o| telegram_connections : "wedding_plan_id"
    wedding_plans ||--o{ planning_milestones : "wedding_plan_id"
    
    guests ||--o{ guest_invitations : "guest_id"
    guests ||--o{ guest_event_invitations : "guest_id"
    guests ||--o{ table_assignments : "guest_id"
    
    wedding_events ||--o{ guest_event_invitations : "event_id"
    
    vendor_profiles ||--o{ bookings : "vendor_id"
    vendor_profiles ||--o{ reviews : "vendor_id"
    vendor_profiles ||--o{ vendor_availability : "vendor_id"
    vendor_profiles ||--o{ venue_gallery : "venue_id"
    vendor_profiles ||--o{ vendor_recommendations : "vendor_id"
    
    bookings ||--o{ payments : "booking_id"
    bookings ||--o{ escrow_transactions : "booking_id"
    
    payments ||--o{ escrow_transactions : "payment_id"
    
    escrow_transactions ||--o{ vendor_payouts : "escrow_transaction_id"
    
    seating_charts ||--o{ seating_tables : "seating_chart_id"
    seating_tables ||--o{ table_assignments : "seating_table_id"
    
    gift_registry_items ||--o{ gift_contributions : "gift_item_id"
    
    telegram_connections ||--o{ telegram_rsvp_responses : "telegram_connection_id"
    
    achievements ||--o{ user_achievements : "achievement_id"

    profiles {
        uuid id PK
        text email
        text full_name
        user_role role
    }
    
    wedding_plans {
        uuid id PK
        uuid couple_user_id FK
        date wedding_date
        integer estimated_guests
        numeric budget_total
    }
    
    vendor_profiles {
        uuid id PK
        uuid user_id FK
        text business_name
        vendor_category category
        numeric rating
    }
    
    guests {
        uuid id PK
        uuid wedding_plan_id FK
        text full_name
        wedding_side guest_side
    }
    
    bookings {
        uuid id PK
        uuid wedding_plan_id FK
        uuid vendor_id FK
        booking_status status
        numeric price
    }
    
    payments {
        uuid id PK
        uuid booking_id FK
        numeric amount
        text payment_provider
        text status
    }
```

### –ì—Ä—É–ø–ø—ã —Ç–∞–±–ª–∏—Ü

```
üìÅ CORE (3 —Ç–∞–±–ª–∏—Ü—ã)
‚îú‚îÄ‚îÄ profiles          ‚Äî –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ user_roles        ‚Äî –†–æ–ª–∏ (couple/vendor/admin)
‚îî‚îÄ‚îÄ wedding_plans     ‚Äî –°–≤–∞–¥–µ–±–Ω—ã–µ –ø–ª–∞–Ω—ã

üìÅ VENDORS (5 —Ç–∞–±–ª–∏—Ü)
‚îú‚îÄ‚îÄ vendor_profiles      ‚Äî –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
‚îú‚îÄ‚îÄ vendor_availability  ‚Äî –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ –¥–∞—Ç–∞–º
‚îú‚îÄ‚îÄ vendor_recommendations ‚Äî AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ favorite_vendors     ‚Äî –ò–∑–±—Ä–∞–Ω–Ω—ã–µ
‚îî‚îÄ‚îÄ venue_gallery        ‚Äî –ì–∞–ª–µ—Ä–µ—è –ø–ª–æ—â–∞–¥–æ–∫

üìÅ GUESTS (4 —Ç–∞–±–ª–∏—Ü—ã)
‚îú‚îÄ‚îÄ guests              ‚Äî –°–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ guest_invitations   ‚Äî –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —Å —Ç–æ–∫–µ–Ω–∞–º–∏
‚îú‚îÄ‚îÄ guest_event_invitations ‚Äî RSVP –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
‚îî‚îÄ‚îÄ wedding_events      ‚Äî –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (–ù–∏–∫–æ—Ö, –¢–æ–π, –∏ —Ç.–¥.)

üìÅ PAYMENTS (5 —Ç–∞–±–ª–∏—Ü)
‚îú‚îÄ‚îÄ bookings            ‚Äî –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ payments            ‚Äî –ü–ª–∞—Ç–µ–∂–∏ (Payme, Click, Uzum)
‚îú‚îÄ‚îÄ escrow_transactions ‚Äî –≠—Å–∫—Ä–æ—É-—Å–∏—Å—Ç–µ–º–∞
‚îú‚îÄ‚îÄ vendor_payouts      ‚Äî –í—ã–ø–ª–∞—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º
‚îî‚îÄ‚îÄ qr_payment_sessions ‚Äî QR-–æ–ø–ª–∞—Ç–∞

üìÅ BUDGET (1 —Ç–∞–±–ª–∏—Ü–∞)
‚îî‚îÄ‚îÄ budget_items        ‚Äî –°—Ç–∞—Ç—å–∏ –±—é–¥–∂–µ—Ç–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

üìÅ SEATING (3 —Ç–∞–±–ª–∏—Ü—ã)
‚îú‚îÄ‚îÄ seating_charts      ‚Äî –°—Ö–µ–º—ã —Ä–∞—Å—Å–∞–¥–∫–∏
‚îú‚îÄ‚îÄ seating_tables      ‚Äî –°—Ç–æ–ª—ã (—Ñ–æ—Ä–º–∞, –ø–æ–∑–∏—Ü–∏—è)
‚îî‚îÄ‚îÄ table_assignments   ‚Äî –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –≥–æ—Å—Ç–µ–π –∑–∞ —Å—Ç–æ–ª—ã

üìÅ GIFTS (2 —Ç–∞–±–ª–∏—Ü—ã)
‚îú‚îÄ‚îÄ gift_registry_items ‚Äî –°–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤
‚îî‚îÄ‚îÄ gift_contributions  ‚Äî –í–∑–Ω–æ—Å—ã –Ω–∞ –ø–æ–¥–∞—Ä–∫–∏

üìÅ INVITATIONS & VISUALS (3 —Ç–∞–±–ª–∏—Ü—ã)
‚îú‚îÄ‚îÄ wedding_invitations    ‚Äî AI-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
‚îú‚îÄ‚îÄ wedding_visualizations ‚Äî AI-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ venue_visualizations   ‚Äî –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ–∫–æ—Ä–∞

üìÅ COMMUNICATIONS (4 —Ç–∞–±–ª–∏—Ü—ã)
‚îú‚îÄ‚îÄ communication_settings   ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤
‚îú‚îÄ‚îÄ telegram_connections     ‚Äî Telegram-–±–æ—Ç—ã
‚îú‚îÄ‚îÄ telegram_rsvp_responses  ‚Äî –û—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ Telegram
‚îî‚îÄ‚îÄ voice_rsvp_sessions      ‚Äî –ì–æ–ª–æ—Å–æ–≤–æ–π RSVP

üìÅ GAMIFICATION (3 —Ç–∞–±–ª–∏—Ü—ã)
‚îú‚îÄ‚îÄ achievements         ‚Äî –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
‚îú‚îÄ‚îÄ user_achievements    ‚Äî –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ planning_milestones  ‚Äî –≠—Ç–∞–ø—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

üìÅ OTHER (3 —Ç–∞–±–ª–∏—Ü—ã)
‚îú‚îÄ‚îÄ reviews               ‚Äî –û—Ç–∑—ã–≤—ã –æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞—Ö
‚îú‚îÄ‚îÄ notification_preferences ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îî‚îÄ‚îÄ wedding_websites       ‚Äî –°–≤–∞–¥–µ–±–Ω—ã–µ —Å–∞–π—Ç—ã

üìÅ VIEWS (1)
‚îî‚îÄ‚îÄ public_vendor_profiles ‚Äî –ü—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–µ–Ω–¥–æ—Ä–æ–≤
```

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: Supabase (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Supabase CLI
npm install -g supabase

# 2. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ supabase.com

# 3. –ü–æ–ª—É—á–∏—Ç—å connection string –∏–∑ Dashboard > Settings > Database

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É
psql "postgresql://postgres:[PASSWORD]@db.[REF].supabase.co:5432/postgres" -f database/schema.sql

# 5. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
psql "postgresql://..." -f database/seed.sql
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker (self-hosted)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
docker run -d \
  --name weddinguz-db \
  -e POSTGRES_DB=weddinguz \
  -e POSTGRES_USER=weddinguz_admin \
  -e POSTGRES_PASSWORD=your_secure_password \
  -p 5432:5432 \
  -v weddinguz_data:/var/lib/postgresql/data \
  postgres:15-alpine

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É
docker exec -i weddinguz-db psql -U weddinguz_admin -d weddinguz < database/schema.sql

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker exec -it weddinguz-db psql -U weddinguz_admin -d weddinguz -c "\dt public.*"
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Neon (serverless)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ neon.tech

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å connection string

# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É
psql "postgresql://[user]:[password]@[host]/[dbname]?sslmode=require" -f database/schema.sql
```

---

## –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
CREATE DATABASE weddinguz
  ENCODING = 'UTF8'
  LC_COLLATE = 'en_US.UTF-8'
  LC_CTYPE = 'en_US.UTF-8';
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

```sql
\c weddinguz;
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";
```

### –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã

```bash
psql -U postgres -d weddinguz -f database/schema.sql
```

### –®–∞–≥ 4: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü (–æ–∂–∏–¥–∞–µ—Ç—Å—è 36)
SELECT COUNT(*) AS table_count 
FROM pg_tables 
WHERE schemaname = 'public';

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (–æ–∂–∏–¥–∞–µ—Ç—Å—è 10)
SELECT typname 
FROM pg_type 
WHERE typnamespace = 'public'::regnamespace 
AND typtype = 'e' 
ORDER BY typname;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–∂–∏–¥–∞–µ—Ç—Å—è 7)
SELECT proname 
FROM pg_proc 
WHERE pronamespace = 'public'::regnamespace 
ORDER BY proname;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã (–æ–∂–∏–¥–∞–µ—Ç—Å—è 30)
SELECT COUNT(*) AS trigger_count
FROM pg_trigger t
JOIN pg_class c ON t.tgrelid = c.oid
JOIN pg_namespace n ON c.relnamespace = n.oid
WHERE n.nspname = 'public' AND NOT t.tgisinternal;
```

### –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```sql
-- –í—Ä—É—á–Ω—É—é (–±–µ–∑ Supabase Auth)
INSERT INTO public.profiles (id, email, full_name, role)
VALUES (
  gen_random_uuid(),
  'admin@weddinguz.uz',
  'Admin',
  'admin'
);

-- –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å
INSERT INTO public.user_roles (user_id, role)
SELECT id, 'admin' FROM public.profiles WHERE email = 'admin@weddinguz.uz';
```

---

## –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

| –¢–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π (—Ç–∏–ø–∏—á–Ω–æ) | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-------------------|----------|
| `profiles` | 1 –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ñ–∏–ª—å |
| `user_roles` | 1-2 –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –†–æ–ª–∏ –¥–æ—Å—Ç—É–ø–∞ |
| `wedding_plans` | 1 –Ω–∞ –ø–∞—Ä—É | –ì–ª–∞–≤–Ω—ã–π –ø–ª–∞–Ω —Å–≤–∞–¥—å–±—ã |
| `vendor_profiles` | ~100-1000 | –ö–∞—Ç–∞–ª–æ–≥ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ |
| `guests` | ~50-500 –Ω–∞ –ø–ª–∞–Ω | –°–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π |
| `bookings` | ~5-20 –Ω–∞ –ø–ª–∞–Ω | –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |
| `budget_items` | ~20-50 –Ω–∞ –ø–ª–∞–Ω | –°—Ç–∞—Ç—å–∏ –±—é–¥–∂–µ—Ç–∞ |

### –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

| –¢–∞–±–ª–∏—Ü–∞ | –°–≤—è–∑–∞–Ω–∞ —Å | –¢–∏–ø —Å–≤—è–∑–∏ |
|---------|-----------|-----------|
| `wedding_plans` ‚Üí `profiles` | couple_user_id | Many-to-One |
| `guests` ‚Üí `wedding_plans` | wedding_plan_id | Many-to-One |
| `bookings` ‚Üí `wedding_plans` | wedding_plan_id | Many-to-One |
| `bookings` ‚Üí `vendor_profiles` | vendor_id | Many-to-One |
| `payments` ‚Üí `bookings` | booking_id | Many-to-One |
| `escrow_transactions` ‚Üí `payments` | payment_id | Many-to-One |
| `seating_tables` ‚Üí `seating_charts` | seating_chart_id | Many-to-One |
| `table_assignments` ‚Üí `seating_tables` | seating_table_id | Many-to-One |

---

## –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è

| Enum | –ó–Ω–∞—á–µ–Ω–∏—è | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ |
|------|----------|---------------|
| `user_role` | couple, vendor, admin | profiles, user_roles |
| `vendor_category` | venue, photographer, videographer, caterer, florist, decorator, music, makeup, clothing, transport, other | vendor_profiles |
| `booking_status` | pending, confirmed, cancelled, completed | bookings |
| `payment_status` | pending, paid, refunded, failed | bookings |
| `escrow_status` | pending, released, refunded, disputed, partial_release | escrow_transactions |
| `payout_status` | pending, processing, completed, failed | vendor_payouts |
| `budget_category_type` | venue, catering, photography, videography, flowers, decoration, music, attire, makeup, invitations, transportation, gifts, rings, honeymoon, other | budget_items |
| `wedding_event_type` | nahorgi_osh, fotiha, nikoh, kelin_salom, toy | wedding_events |
| `wedding_side` | groom, bride, both | guests, wedding_events |
| `communication_channel` | email, sms, telegram, voice, whatsapp | communication_settings |

---

## –§—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã

### –§—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| `update_updated_at_column()` | Trigger | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `updated_at` |
| `has_role(_user_id, _role)` | Query | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ (SECURITY DEFINER) |
| `calculate_wedding_budget_totals(plan_id)` | Query | –°—É–º–º—ã –±—é–¥–∂–µ—Ç–∞ –ø–æ –ø–ª–∞–Ω—É |
| `update_vendor_rating()` | Trigger | –ü–µ—Ä–µ—Å—á—ë—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –æ—Ç–∑—ã–≤–∞ |
| `create_escrow_on_payment()` | Trigger | –ê–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏–µ —ç—Å–∫—Ä–æ—É |
| `update_gift_current_amount()` | Trigger | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É–º–º—ã –ø–æ–¥–∞—Ä–∫–∞ |
| `handle_new_user()` | Trigger | –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |

### –¢—Ä–∏–≥–≥–µ—Ä—ã

| –¢—Ä–∏–≥–≥–µ—Ä | –¢–∞–±–ª–∏—Ü–∞ | –°–æ–±—ã—Ç–∏–µ | –§—É–Ω–∫—Ü–∏—è |
|---------|---------|---------|---------|
| `update_*_updated_at` | 28 —Ç–∞–±–ª–∏—Ü | BEFORE UPDATE | `update_updated_at_column()` |
| `on_review_created` | reviews | AFTER INSERT | `update_vendor_rating()` |
| `create_escrow_after_payment` | payments | AFTER UPDATE | `create_escrow_on_payment()` |
| `update_gift_amount_on_contribution` | gift_contributions | AFTER INSERT/UPDATE | `update_gift_current_amount()` |

---

## –ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü—Ä–∏–Ω—Ü–∏–ø—ã RLS

1. **–ü–∞—Ä—ã** –≤–∏–¥—è—Ç/—Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ (—á–µ—Ä–µ–∑ `wedding_plans.couple_user_id = auth.uid()`)
2. **–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏** –≤–∏–¥—è—Ç —Å–≤–æ–∏ –ø—Ä–æ—Ñ–∏–ª–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–ª–∞—Ç–µ–∂–∏
3. **–ü—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: vendor_profiles (SELECT), reviews (SELECT), achievements (SELECT), gift_registry (SELECT)
4. **–ê–¥–º–∏–Ω—ã**: –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —ç—Å–∫—Ä–æ—É –∏ –≤—ã–ø–ª–∞—Ç–∞–º —á–µ—Ä–µ–∑ `has_role()`

### –í–∞–∂–Ω–æ –¥–ª—è self-hosted

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –±–µ–∑ Supabase Auth, —Ñ—É–Ω–∫—Ü–∏—è `auth.uid()` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –í–∞—Ä–∏–∞–Ω—Ç—ã:

**–í–∞—Ä–∏–∞–Ω—Ç A: –°–æ–∑–¥–∞—Ç—å —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é `auth.uid()`**
```sql
CREATE SCHEMA IF NOT EXISTS auth;

CREATE OR REPLACE FUNCTION auth.uid()
RETURNS UUID
LANGUAGE sql
STABLE
AS $$
  SELECT NULLIF(current_setting('app.current_user_id', true), '')::UUID
$$;

-- –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º:
SET LOCAL app.current_user_id = '–≤–∞—à-uuid-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è';
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å middleware –Ω–∞ –±—ç–∫–µ–Ω–¥–µ**
```javascript
// Express.js –ø—Ä–∏–º–µ—Ä
app.use((req, res, next) => {
  const userId = req.user?.id; // –∏–∑ JWT –∏–ª–∏ —Å–µ—Å—Å–∏–∏
  pool.query(`SET LOCAL app.current_user_id = '${userId}'`);
  next();
});
```

**–í–∞—Ä–∏–∞–Ω—Ç C: –û—Ç–∫–ª—é—á–∏—Ç—å RLS –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```sql
-- –í–ù–ò–ú–ê–ù–ò–ï: –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
ALTER TABLE public.wedding_plans DISABLE ROW LEVEL SECURITY;
```

---

## –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ Lovable Cloud

```bash
# –ü–æ–ª–Ω—ã–π –¥–∞–º–ø (—Å—Ö–µ–º–∞ + –¥–∞–Ω–Ω—ã–µ)
pg_dump "postgresql://postgres:[PASS]@db.[REF].supabase.co:5432/postgres" \
  --schema=public \
  --no-owner \
  --no-privileges \
  -f weddinguz_full_dump.sql

# –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ (–±–µ–∑ —Å—Ö–µ–º—ã)
pg_dump "postgresql://postgres:[PASS]@db.[REF].supabase.co:5432/postgres" \
  --schema=public \
  --data-only \
  --no-owner \
  -f weddinguz_data_only.sql
```

### –ò–º–ø–æ—Ä—Ç –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä

```bash
# 1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É
psql -U postgres -d weddinguz -f database/schema.sql

# 2. –ó–∞—Ç–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
psql -U postgres -d weddinguz -f weddinguz_data_only.sql
```

---

## –ê–¥–∞–ø—Ç–∞—Ü–∏—è

### –ó–∞–º–µ–Ω–∞ Supabase Auth

–ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Supabase, –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å:

| Supabase | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ | –ß—Ç–æ –º–µ–Ω—è—Ç—å |
|----------|-------------|------------|
| `auth.uid()` | JWT middleware | –í—Å–µ RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ |
| `auth.users` | –°–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞ `users` | `handle_new_user()` |
| `auth.jwt()` | JWT decode | RLS –¥–ª—è `user_roles` |
| Storage buckets | S3 / MinIO | –°—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |

### –ó–∞–º–µ–Ω–∞ Edge Functions

| Edge Function | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------|-------------|----------|
| `wedding-assistant` | Express/FastAPI + AI API | AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç |
| `process-payment` | Payment gateway SDK | –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π |
| `send-email-notification` | Nodemailer / SendGrid | Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| `telegram-webhook` | Express webhook handler | Telegram –±–æ—Ç |
| `voice-rsvp` | WebSocket server | –ì–æ–ª–æ—Å–æ–≤–æ–π RSVP |
| `generate-wedding-visualization` | AI image API | AI-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ |
| `export-wedding-plan-pdf` | Puppeteer / jsPDF | PDF-—ç–∫—Å–ø–æ—Ä—Ç |

### Docker Compose –¥–ª—è self-hosted

```yaml
version: '3.8'

services:
  db:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: weddinguz
      POSTGRES_USER: weddinguz_admin
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    ports:
      - "5432:5432"
    volumes:
      - pgdata:/var/lib/postgresql/data
      - ./database/schema.sql:/docker-entrypoint-initdb.d/01-schema.sql
      - ./database/seed.sql:/docker-entrypoint-initdb.d/02-seed.sql
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U weddinguz_admin -d weddinguz"]
      interval: 10s
      timeout: 5s
      retries: 5

  pgadmin:
    image: dpage/pgadmin4:latest
    environment:
      PGADMIN_DEFAULT_EMAIL: admin@weddinguz.uz
      PGADMIN_DEFAULT_PASSWORD: ${PGADMIN_PASSWORD}
    ports:
      - "5050:80"
    depends_on:
      db:
        condition: service_healthy

volumes:
  pgdata:
```

---

## FAQ

### –°–∫–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü –≤ –±–∞–∑–µ?
36 —Ç–∞–±–ª–∏—Ü + 1 view = 37 –æ–±—ä–µ–∫—Ç–æ–≤

### –ö–∞–∫–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL –Ω—É–∂–Ω—ã?
`uuid-ossp` –∏ `pgcrypto` ‚Äî –æ–±–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤–µ–∑–¥–µ.

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MySQL –≤–º–µ—Å—Ç–æ PostgreSQL?
–ù–µ—Ç. –°—Ö–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UUID, JSONB, ARRAY, custom ENUMs –∏ RLS ‚Äî –≤—Å—ë —ç—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –¥–ª—è PostgreSQL.

### –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É?
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã. –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º `.sql` —Ñ–∞–π–ª–µ —Å –Ω–æ–º–µ—Ä–æ–º –≤–µ—Ä—Å–∏–∏:
```
database/migrations/
‚îú‚îÄ‚îÄ 001_initial_schema.sql
‚îú‚îÄ‚îÄ 002_add_telegram.sql
‚îú‚îÄ‚îÄ 003_add_voice_rsvp.sql
‚îî‚îÄ‚îÄ ...
```

### –ù—É–∂–µ–Ω –ª–∏ Supabase –¥–ª—è —Ä–∞–±–æ—Ç—ã?
–ù–µ—Ç. –°—Ö–µ–º–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –ª—é–±—ã–º PostgreSQL 15+. –ù–æ –±–µ–∑ Supabase –Ω—É–∂–Ω–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (JWT + middleware)
- –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤ (S3/MinIO)
- –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Express/FastAPI)
- Realtime –ø–æ–¥–ø–∏—Å–∫–∏ (WebSocket)

---

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

```
database/
‚îú‚îÄ‚îÄ schema.sql          ‚Üê –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ seed.sql            ‚Üê –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (symlink to supabase/seed.sql)
‚îî‚îÄ‚îÄ DATABASE_SETUP.md   ‚Üê –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
```

---

*Weddinguz v2.1.0 ‚Äî AI-powered Wedding Platform for Uzbekistan üá∫üáø*
